{"version":3,"sources":["main.js"],"names":["loadRandomImage","$","show","remove","randomSeed","Math","floor","random","imageURL","img","Image","src","alt","onload","hide","append","addEmail","emailInput","document","getElementById","email","value","trim","emailRegex","selects","querySelectorAll","console","log","test","showMessage","options","option","toLowerCase","select","newOption","createElement","textContent","appendChild","placeholder","querySelector","dispatchEvent","Event","addToCollection","containerImage","imageSrc","collectionsDiv","firstSelect","selectedValue","collectionGroup","id","classList","add","duplicate","imageDiv","clonedImage","deleteBtn","innerHTML","addEventListener","collectionsSelect","event","selectedId","target","allCollections","forEach","collection","style","display","type","text","container","message","content","setTimeout"],"mappings":"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","sourcesContent":["\r\nfunction loadRandomImage() {\r\n    $(\".loader\").show(); // show loader\r\n    $(\".container-image img\").remove(); // remove old image\r\n\r\n    let randomSeed = Math.floor(Math.random() * 1000000);\r\n    let imageURL = `https://picsum.photos/seed/${randomSeed}/600/400`;\r\n\r\n    let img = new Image();\r\n    img.src = imageURL;\r\n    img.alt = \"Random Image\";\r\n    img.onload = function () {\r\n        $(\".loader\").hide(); // hide loader\r\n        $(\".container-image\").append(img); // show image\r\n    };\r\n}\r\n\r\nfunction addEmail() {\r\n    const emailInput = document.getElementById(\"email\");\r\n    const email = emailInput.value.trim();\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    const selects = document.querySelectorAll(\".selected\");\r\n    console.log(selects)\r\n\r\n    // Validation using regex (also check not empty)\r\n    if (email !== \"\" && !emailRegex.test(email)) {\r\n        showMessage(\"error\", \"Please enter a valid email address\");\r\n        return;\r\n    } else if (email == \"\") {\r\n        showMessage(\"error\", \"Please enter an email address\")\r\n        return;\r\n    }\r\n\r\n    // Check for duplicates\r\n    for (let option of selects[0].options) {\r\n        if (option.value.toLowerCase() === email.toLowerCase()) {\r\n            showMessage(\"error\", \"This email is already in the list.\");\r\n            return;\r\n        }\r\n    }\r\n\r\n    // Create new option element\r\n    for (let select of selects) {\r\n        const newOption = document.createElement(\"option\");\r\n        newOption.value = email;\r\n        newOption.textContent = email;\r\n        select.appendChild(newOption);\r\n\r\n        // Remove placeholder option if it exists\r\n        const placeholder = select.querySelector(\"option[value=none]\")\r\n        if (placeholder) {\r\n            placeholder.remove();\r\n        }\r\n\r\n        // Make the new email the selected option\r\n        select.value = email;\r\n\r\n        // Trigger the change event manually\r\n        select.dispatchEvent(new Event(\"change\"));\r\n    }\r\n\r\n    // Reset input field\r\n    emailInput.value = \"\";\r\n\r\n    // Show success message\r\n    showMessage(\"success\", \"Email added\");\r\n}\r\n\r\nloadRandomImage();\r\n\r\nfunction addToCollection() {\r\n    const containerImage = document.querySelector(\".container-image img\"); \r\n    const imageSrc = containerImage.src;\r\n    const collectionsDiv = document.querySelector(\".collections\");\r\n    const firstSelect = document.querySelector(\".address .selected\");\r\n    const selectedValue = firstSelect.value;\r\n\r\n    if (selectedValue === \"none\") {\r\n        showMessage(\"error\", \"Please select an email first.\");\r\n        return;\r\n    }\r\n\r\n    if (!containerImage) {\r\n        showMessage(\"error\", \"Please generate an image first.\");\r\n        return;\r\n    }\r\n\r\n    // Get or create the collection container\r\n    let collectionGroup = document.getElementById(selectedValue);\r\n    if (!collectionGroup) {\r\n        collectionGroup = document.createElement(\"div\");\r\n        collectionGroup.id = selectedValue;\r\n        collectionGroup.classList.add(\"collection-group\");\r\n        collectionsDiv.appendChild(collectionGroup);\r\n    }\r\n\r\n    // Check for duplicates\r\n    const duplicate = collectionGroup.querySelector(`img[src=\"${containerImage.src}\"]`);\r\n    if (duplicate) {\r\n        showMessage(\"error\", \"This image is already in this collection.\");\r\n        return;\r\n    }\r\n\r\n    // Create wrapper for image + delete button\r\n    const imageDiv = document.createElement(\"div\");\r\n    imageDiv.classList.add(\"image-wrapper\");\r\n\r\n    // Clone the current image\r\n    const clonedImage = document.createElement(\"img\");\r\n    clonedImage.src = imageSrc;\r\n    clonedImage.alt = containerImage.alt || \"Collected Image\";\r\n\r\n    // Create delete button\r\n    const deleteBtn = document.createElement(\"span\");\r\n    deleteBtn.classList.add(\"delete-btn\");\r\n    deleteBtn.innerHTML = \"x\";\r\n\r\n    // Add event to remove image on click\r\n    deleteBtn.addEventListener(\"click\", () => {\r\n        imageDiv.remove();\r\n\r\n        // Successful removal message\r\n        showMessage(\"success\", \"Image has been removed from collection\");\r\n    });\r\n\r\n    // Add image and button to wrapper\r\n    imageDiv.append(clonedImage, deleteBtn);\r\n\r\n    // Add to collection\r\n    collectionGroup.append(imageDiv);\r\n\r\n    // Show success message\r\n    showMessage(\"success\", \"Image added to the collection\");\r\n}\r\n\r\nconst collectionsSelect = document.querySelector(\".main-content-2 .select .selected\");\r\n\r\ncollectionsSelect.addEventListener(\"change\", (event) => {\r\n    const selectedId = event.target.value;\r\n\r\n    // Select all collection group divs inside .collections\r\n    const allCollections = document.querySelectorAll(\".collections > div.collection-group\");\r\n\r\n    allCollections.forEach(collection => {\r\n        if (collection.id === selectedId) {\r\n            collection.style.display = \"flex\"; // show the matching one\r\n        } else {\r\n            collection.style.display = \"none\"; // hide all others\r\n        }\r\n    });\r\n});\r\n\r\n// Success and Error messages\r\nfunction showMessage(type, text) {\r\n    const container = document.querySelector(\".messages-container\");\r\n\r\n    // Create a new message\r\n    const message = document.createElement(\"div\");\r\n    message.classList.add(\"message\", type);\r\n    \r\n    const content = document.createElement(\"p\");\r\n    content.textContent = text;\r\n    message.append(content);\r\n\r\n    // Add to container\r\n    container.append(message);\r\n\r\n    // Make sure to trigger CSS transition\r\n    setTimeout(() => message.classList.add(\"show\"), 10);\r\n\r\n    // Auto-remove after 3s\r\n    setTimeout(() => {\r\n        message.classList.remove(\"show\");\r\n        setTimeout(() => message.remove(), 300);\r\n    }, 3000);\r\n}\r\n"],"file":"main.dev.js"}